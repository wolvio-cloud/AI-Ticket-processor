# Real-Time AI Ticket Processor Dashboard

Professional, production-ready dashboard for monitoring AI ticket processing with PII compliance tracking and ROI calculations.

## Features

### üìä Key Metrics
- **Total Processed** - Total tickets processed across all runs
- **Success Rate** - Percentage of successfully processed tickets
- **Avg Time** - Average processing time per ticket (vs 5 min manual)
- **Cost Savings** - Total savings vs manual processing
- **PII Protected** - Number of tickets with PII detected and redacted

### üîí PII Compliance Section
- Real-time PII protection statistics
- Breakdown of redactions by type (credit cards, SSN, phone, etc.)
- GDPR & CCPA compliance indicators
- PII detection rate tracking

### üè¢ Industry Breakdown
- Automatic classification into: E-commerce, SaaS, General
- Interactive pie chart visualization
- Percentage distribution

### üéØ Classification Accuracy
- Gauge showing accuracy percentage
- "Other" category tracking
- Alerts when accuracy drops below 90%

### üìà Interactive Charts
1. **PII Redactions** - Horizontal bar chart by type
2. **Industry Breakdown** - Donut chart with percentages
3. **Category Distribution** - Top 10 categories
4. **Sentiment Analysis** - Color-coded sentiment bars
5. **Processing Timeline** - Last 10 runs timeline

### üí∞ ROI Calculator
- Customizable parameters:
  - Tickets per month
  - Manual hourly rate
  - Minutes per ticket
- Real-time calculations:
  - Manual vs AI cost comparison
  - Monthly and annual savings
  - Time savings percentage

### ‚ö° Auto-Refresh
- Checkbox to enable 30-second auto-refresh
- Real-time data updates
- Latest processing run indicator

## Installation

```bash
# Install dependencies
pip install streamlit plotly pandas

# Or install from requirements.txt
pip install -r requirements.txt
```

## Running the Dashboard

### Local Development

```bash
streamlit run dashboard_realtime.py
```

The dashboard will open in your browser at `http://localhost:8501`

### Production Deployment

#### Option 1: Streamlit Cloud (Recommended)
1. Push code to GitHub
2. Go to https://streamlit.io/cloud
3. Connect repository
4. Deploy `dashboard_realtime.py`

#### Option 2: Docker
```bash
# Build image
docker build -t ai-ticket-dashboard -f Dockerfile.dashboard .

# Run container
docker run -p 8501:8501 -v $(pwd)/logs:/app/logs ai-ticket-dashboard
```

#### Option 3: GCP Cloud Run
```bash
# Deploy with Cloud Run
gcloud run deploy ai-ticket-dashboard \
  --source . \
  --port 8501 \
  --allow-unauthenticated
```

## Data Source

The dashboard reads from `logs/results_*.json` files generated by the AI Ticket Processor.

### Expected JSON Structure

```json
{
  "total": 21,
  "processed": 21,
  "failed": 0,
  "timestamp": "2025-11-09T10:30:00",
  "results": [
    {
      "ticket_id": 123,
      "success": true,
      "processing_time": 3.5,
      "analysis": {
        "summary": "Customer needs refund",
        "root_cause": "refund",
        "urgency": "high",
        "sentiment": "negative",
        "pii_redacted": true,
        "redactions": {
          "credit_card": 1,
          "phone_india": 1
        }
      }
    }
  ]
}
```

## Metrics Explained

### Success Rate
- **Target:** ‚â•99%
- **Good:** ‚â•95%
- **Needs Attention:** <95%

### Classification Accuracy
- **Excellent:** ‚â•90% (‚â§10% in "other" category)
- **Good:** ‚â•80%
- **Needs Improvement:** <80%

### PII Detection Rate
- **Percentage of tickets with PII detected**
- Higher rate = more sensitive data protected

### Cost Savings
- **Manual:** `tickets √ó (5 min / 60) √ó $50/hour`
- **AI:** `tickets √ó $0.001`
- **Savings:** `Manual - AI`

## Auto-Refresh

Enable auto-refresh to see real-time updates every 30 seconds:

1. Check the "üîÑ Auto-refresh (30s)" box in the header
2. Dashboard will automatically reload data
3. Useful for monitoring during active processing

## Customization

### Changing Refresh Interval

Edit line 73 in `dashboard_realtime.py`:

```python
@st.cache_data(ttl=30)  # Change 30 to desired seconds
```

### Adding Custom Metrics

Add new metrics in the `calculate_metrics()` function:

```python
# Your custom metric
custom_metric = your_calculation()

# Add to return dict
return {
    ...
    'custom_metric': custom_metric
}
```

### Changing Colors

Modify the color scheme in the CSS section (lines 23-74):

```python
st.markdown("""
<style>
    .metric-card {
        background: linear-gradient(135deg, #YOUR_COLOR1 0%, #YOUR_COLOR2 100%);
    }
</style>
""", unsafe_allow_html=True)
```

## Troubleshooting

### "No results found" Error

**Solution:** Process some tickets first:
```bash
python Ai_ticket_processor.py --limit 10
```

### Charts Not Showing

**Solution:** Check that JSON files have the correct structure with `results` array.

### Slow Loading

**Solutions:**
1. Reduce cache TTL (line 73)
2. Limit number of result files loaded (line 98)
3. Use `--limit` flag with fewer results files

### PII Stats Not Showing

**Solution:** Ensure your results include `pii_redacted` and `redactions` fields in the analysis.

## Performance

- **Load Time:** ~1-2 seconds for 10 result files
- **Refresh Rate:** 30 seconds (configurable)
- **Memory Usage:** ~50-100MB
- **Recommended:** Max 100 result files for optimal performance

## Security

- Dashboard is read-only (no data modification)
- PII is already redacted in source files
- No external API calls
- Safe for production deployment

## Screenshots

### Main Dashboard
- 5 key metrics cards
- PII compliance section
- Industry breakdown pie chart
- Classification accuracy gauge

### Charts Section
- Category distribution (top 10)
- Sentiment analysis (color-coded)
- Processing timeline
- Cost savings calculator

## Support

For issues or questions:
- Check logs in `logs/` directory
- Review JSON file structure
- Verify all dependencies installed
- Contact support team

## Version

**Current Version:** 2.2  
**Last Updated:** 2025-11-09  
**Compatible With:** AI Ticket Processor v2.2+

---

**Status:** üü¢ Production Ready  
**License:** MIT  
**Maintainer:** AI Ticket Processor Team
